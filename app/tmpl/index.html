<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
<xi:include href="_incl/taglib.html"/>
  <head>
    <title>brew-journal</title>
    <xi:include href="_incl/head.html"/>
    <script type="application/javascript">
        <py:if test="not request.user.is_authenticated()">
        $(document).ready(function() {
          $('#login :input:first').focus();
        });
        </py:if>
    </script>

  </head>
<body>
<xi:include href="_incl/body-top-bar.html"/>

<p><span class="logotext">brew-journal</span> is a web site for you to track the status and progress of your home brews.</p>

<form id="login" py:if="not request.user.is_authenticated()" method="post" >
  <table class="form">
      <tr><td colspan="3">login:</td></tr>
      <tr>
          <th>username:</th>
          <td py:content="std.Markup(auth_form.username)"/>
          <td>&nbsp;</td>
      </tr>
      <tr>
          <th>password</th>
          <td py:content="std.Markup(auth_form.password)"/>
          <td align="right"><input type="submit" name="sub" value="login"/></td>
      </tr>
      <tr><td colspan="3">create account:</td></tr>
      <tr>
          <th>password (again):</th>
          <td><input type="password" name="password_again"/></td>
          <td>&nbsp;</td>
      </tr>
      <tr>
          <th>email</th>
          <td><input type="text" name="email"/></td>
          <td><input type="submit" name="sub" value="create"/></td>
      </tr>
  </table>
</form>

<h1>recent brews</h1>

<ul>
    <li py:for="brew in recent_brews">
        <a href="/user/${brew.brewer.username}/brew/${brew.id}/"><py:if test="brew.recipe">"${brew.recipe.name}"</py:if><py:if test="not brew.recipe">A brew</py:if></a>
        by <a href="/user/${brew.brewer.username}/">${brew.brewer.username}</a>
        <py:if test="brew.brew_date">
            on ${std.fmt.date.ymd(brew.brew_date)}
        </py:if>
    </li>
</ul>

<h1>recent recipes</h1>

<ul>
    <li py:for="recipe in recent_recipes">
        "${recipe_a(recipe)}", added ${std.fmt.date.ymdhm(recipe.insert_date)} by <a href="/user/${recipe.author.username}/">${recipe.author}</a>.
    </li>
</ul>
  
<h1>recent updates</h1>
<ul>
  <li py:for="step in recent_updates"><a href="/user/${step.brew.brewer.username}/brew/${step.brew.id}">Step ${step.type}</a> journaled for <a href="/user/${step.brew.brewer.username}/">${step.brew.brewer.username}</a>'s <py:if test="step.brew.recipe">${recipe_a(step.brew.recipe)}</py:if> on ${std.fmt.date.ymdhm(step.date)}</li>
</ul>

<!--

- Site News
  - inclusion
- New Users
- New Comments
- Upcoming Brews

-->

</body>
</html>